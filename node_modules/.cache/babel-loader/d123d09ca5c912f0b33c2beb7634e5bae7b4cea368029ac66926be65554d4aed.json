{"ast":null,"code":"var _jsxFileName = \"/Users/abduldattijo/Downloads/intelaanalysis/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { Search, BarChart3, Map, List, Shield, Brain, Upload, CheckCircle, Loader2 } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\n// NOTE: mapbox-gl is loaded via a script tag in the HTML to avoid bundling issues.\n// We declare it on the window object for TypeScript.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// STYLES - Combining CSS files into a style tag\nconst GlobalStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      background-color: #f9fafb; /* Lighter gray for a cleaner look */\n    }\n    .line-clamp-2 {\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n    .mapboxgl-popup-content {\n      border-radius: 8px !important;\n      padding: 10px 15px !important;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\n      font-family: inherit !important;\n    }\n    .mapboxgl-popup-close-button {\n        font-size: 20px;\n        line-height: 1;\n        padding: 5px;\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 3\n}, this);\n\n// INTERFACES\n_c = GlobalStyles; // --- IntelligenceAnalyzer Component ---\nconst IntelligenceAnalyzer = ({\n  onDocumentAnalyzed\n}) => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  const handleFileSelect = useCallback(file => {\n    setSelectedFile(file);\n    setError(null);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) handleFileSelect(e.dataTransfer.files[0]);\n  }, [handleFileSelect]);\n  const handleDragEvent = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") setDragActive(true);else if (e.type === \"dragleave\") setDragActive(false);\n  }, []);\n  const uploadAndAnalyze = async () => {\n    if (!selectedFile) return;\n    setUploading(true);\n    setError(null);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await fetch('http://localhost:8000/upload-document', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onDocumentAnalyzed(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, i)).toFixed(2))} ${['Bytes', 'KB', 'MB', 'GB'][i]}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Upload, {\n          className: \"h-5 w-5 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), \" Document Upload & Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `relative border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 ${dragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,\n        onDrop: handleDrop,\n        onDragOver: handleDragEvent,\n        onDragEnter: handleDragEvent,\n        onDragLeave: handleDragEvent,\n        onClick: () => {\n          var _fileInputRef$current;\n          return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          className: \"hidden\",\n          onChange: e => {\n            var _e$target$files;\n            return ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) && handleFileSelect(e.target.files[0]);\n          },\n          accept: \".pdf,.doc,.docx,.txt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), selectedFile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-12 w-12 text-green-600 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-800 mt-2\",\n            children: selectedFile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: formatFileSize(selectedFile.size)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"h-12 w-12 text-gray-400 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-700\",\n            children: \"Drop document here or click to browse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Supports PDF, DOCX, and TXT files.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: uploadAndAnalyze,\n          disabled: !selectedFile || uploading,\n          className: \"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center transition-colors\",\n          children: [uploading ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"h-5 w-5 mr-2 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(Brain, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 78\n          }, this), uploading ? 'Analyzing...' : 'Start AI Analysis']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 6\n  }, this);\n};\n\n// --- QueryInterface Component ---\n_s(IntelligenceAnalyzer, \"oO4yEmsy4+wQZ+1svUgu2SlB8k8=\");\n_c2 = IntelligenceAnalyzer;\nconst QueryInterface = ({\n  onQueryResponse\n}) => {\n  _s2();\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: query.trim(),\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onQueryResponse(data.response);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to get response');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        placeholder: \"Ask a question about your documents...\",\n        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",\n        rows: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 10\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-red-50 text-red-700 rounded-lg\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !query.trim() || loading,\n        className: \"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-medium py-3 rounded-lg flex items-center justify-center transition-colors\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-5 w-5 mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 74\n        }, this), \"Query Intelligence\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n\n// --- AnalysisResults Component (FIXED) ---\n_s2(QueryInterface, \"s/QqPjYQri18KslbTNffvi3o13M=\");\n_c3 = QueryInterface;\nconst AnalysisResults = ({\n  analysisData,\n  queryResponse\n}) => {\n  var _analysisData$metadat, _analysisData$analysi, _analysisData$analysi2, _analysisData$analysi3, _analysisData$analysi4, _analysisData$analysi5;\n  if (!analysisData && !queryResponse) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"No analysis data available. Upload a document or perform a query.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [analysisData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-sm border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-4\",\n        children: [\"Detailed Analysis: \", analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$metadat = analysisData.metadata) === null || _analysisData$metadat === void 0 ? void 0 : _analysisData$metadat.filename]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg mb-2\",\n            children: \"Entities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 21\n          }, this), Object.entries((analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$analysi = analysisData.analysis) === null || _analysisData$analysi === void 0 ? void 0 : _analysisData$analysi.entities) || {}).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"capitalize\",\n              children: [key, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: Array.isArray(value) && value.length > 0 ? value.join(', ') : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg mb-2\",\n            children: \"Sentiment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Overall:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 24\n            }, this), \" \", (analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$analysi2 = analysisData.analysis) === null || _analysisData$analysi2 === void 0 ? void 0 : (_analysisData$analysi3 = _analysisData$analysi2.sentiment_analysis) === null || _analysisData$analysi3 === void 0 ? void 0 : _analysisData$analysi3.overall_sentiment) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Threat Level:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 24\n            }, this), \" \", (analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$analysi4 = analysisData.analysis) === null || _analysisData$analysi4 === void 0 ? void 0 : (_analysisData$analysi5 = _analysisData$analysi4.sentiment_analysis) === null || _analysisData$analysi5 === void 0 ? void 0 : _analysisData$analysi5.threat_level) || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this), queryResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-sm border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-2\",\n        children: \"AI Query Response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 whitespace-pre-wrap\",\n        children: queryResponse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n\n// --- ForecastingDashboard Component ---\n_c4 = AnalysisResults;\nconst ForecastingDashboard = () => {\n  const data = Array.from({\n    length: 30\n  }, (_, i) => ({\n    name: `Day ${i + 1}`,\n    incidents: Math.floor(Math.random() * 20) + 5,\n    predicted: Math.floor(Math.random() * 20) + 5 + (Math.random() * 6 - 3)\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Threat Forecasting\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-sm border h-96\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: data,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"incidents\",\n            stroke: \"#8884d8\",\n            name: \"Actual Incidents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"predicted\",\n            stroke: \"#82ca9d\",\n            strokeDasharray: \"5 5\",\n            name: \"Predicted Incidents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 9\n  }, this);\n};\n\n// --- GeospatialMap Component ---\n_c5 = ForecastingDashboard;\nconst GeospatialMap = ({\n  analysisData\n}) => {\n  _s3();\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n    if (!mapContainer.current || !window.mapboxgl) {\n      console.error(\"Mapbox GL JS not loaded or map container not available.\");\n      return;\n    }\n    const mapboxgl = window.mapboxgl;\n    mapboxgl.accessToken = 'pk.eyJ1IjoiYWJkdWxkYXR0aWpvMSIsImEiOiJjbWM2bW83Y3IwbmN4MmtzYWw0cHppbXF4In0.0pSWoI2VOyPyORqCROJc9g';\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/dark-v11',\n      // Dark style for contrast\n      center: [7.4, 9.0],\n      // Centered on Nigeria\n      zoom: 5\n    });\n  });\n  useEffect(() => {\n    var _analysisData$analysi6, _analysisData$analysi7;\n    if (!map.current || !(analysisData !== null && analysisData !== void 0 && (_analysisData$analysi6 = analysisData.analysis) !== null && _analysisData$analysi6 !== void 0 && (_analysisData$analysi7 = _analysisData$analysi6.geographic_intelligence) !== null && _analysisData$analysi7 !== void 0 && _analysisData$analysi7.coordinates)) return;\n    const coords = analysisData.analysis.geographic_intelligence.coordinates;\n    if (coords.length === 0) return;\n\n    // Add markers\n    coords.forEach(coord => {\n      new window.mapboxgl.Marker().setLngLat([coord.longitude, coord.latitude]).setPopup(new window.mapboxgl.Popup().setText(coord.location_name)).addTo(map.current);\n    });\n\n    // Fit map to markers\n    const bounds = new window.mapboxgl.LngLatBounds();\n    coords.forEach(coord => {\n      bounds.extend([coord.longitude, coord.latitude]);\n    });\n    map.current.fitBounds(bounds, {\n      padding: 60\n    });\n  }, [analysisData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapContainer,\n    className: \"h-[600px] w-full rounded-lg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 379,\n    columnNumber: 10\n  }, this);\n};\n\n// --- DocumentList Component ---\n_s3(GeospatialMap, \"YucpQ3b8IpldxLXyPEsMQhZZIbE=\");\n_c6 = GeospatialMap;\nconst DocumentList = ({\n  onDocumentSelect\n}) => {\n  _s4();\n  const [documents, setDocuments] = useState([]);\n  useEffect(() => {\n    // This is still mocked as the backend endpoint is also a mock.\n    const mockDocs = [\n      // This structure needs to match the full Document interface for selection to work\n    ];\n    setDocuments(mockDocs);\n  }, []);\n  if (documents.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"No documents in the library yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-4\",\n    children: documents.map(doc => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer\",\n      onClick: () => onDocumentSelect(doc),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold text-blue-600\",\n        children: doc.metadata.filename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Uploaded: \", new Date(doc.metadata.uploaded_at).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)]\n    }, doc.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 401,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s4(DocumentList, \"yer53JIs/Enm5EWW99jBywEKfS0=\");\n_c7 = DocumentList;\nconst App = () => {\n  _s5();\n  var _analysisData$metadat2;\n  const [activeTab, setActiveTab] = useState('analyzer');\n  const [analysisData, setAnalysisData] = useState(null);\n  const [queryResponse, setQueryResponse] = useState('');\n  const handleDocumentAnalyzed = document => {\n    setAnalysisData(document);\n    setActiveTab('results');\n  };\n  const handleDocumentSelect = document => {\n    setAnalysisData(document);\n    setActiveTab('results');\n  };\n  const handleQueryResponse = response => {\n    setQueryResponse(response);\n    setActiveTab('results');\n  };\n  const tabs = [{\n    id: 'analyzer',\n    label: 'Analyzer',\n    icon: Upload\n  }, {\n    id: 'query',\n    label: 'Query',\n    icon: Search\n  }, {\n    id: 'results',\n    label: 'Results',\n    icon: Brain\n  }, {\n    id: 'forecasting',\n    label: 'Forecasting',\n    icon: BarChart3\n  }, {\n    id: 'map',\n    label: 'Map',\n    icon: Map\n  }, {\n    id: 'documents',\n    label: 'Library',\n    icon: List\n  }];\n  useEffect(() => {\n    const mapboxScript = document.createElement('script');\n    mapboxScript.src = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js';\n    document.head.appendChild(mapboxScript);\n    const mapboxCss = document.createElement('link');\n    mapboxCss.href = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css';\n    mapboxCss.rel = 'stylesheet';\n    document.head.appendChild(mapboxCss);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white border-b border-gray-200 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-8 w-8 text-blue-600 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: \"Intelligence Document Analyzer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"AI-Powered Security Intelligence Platform\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"bg-white border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-8 overflow-x-auto\",\n            children: tabs.map(tab => {\n              const Icon = tab.icon;\n              const isActive = activeTab === tab.id;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab(tab.id),\n                className: `flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${isActive ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'}`,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: tab.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 21\n                }, this)]\n              }, tab.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-7xl mx-auto mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md border border-gray-200\",\n          children: [activeTab === 'analyzer' && /*#__PURE__*/_jsxDEV(IntelligenceAnalyzer, {\n            onDocumentAnalyzed: handleDocumentAnalyzed\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 42\n          }, this), activeTab === 'query' && /*#__PURE__*/_jsxDEV(QueryInterface, {\n            onQueryResponse: handleQueryResponse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 39\n          }, this), activeTab === 'results' && /*#__PURE__*/_jsxDEV(AnalysisResults, {\n            analysisData: analysisData,\n            queryResponse: queryResponse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 41\n          }, this), activeTab === 'forecasting' && /*#__PURE__*/_jsxDEV(ForecastingDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 45\n          }, this), activeTab === 'map' && /*#__PURE__*/_jsxDEV(GeospatialMap, {\n            analysisData: analysisData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 37\n          }, this), activeTab === 'documents' && /*#__PURE__*/_jsxDEV(DocumentList, {\n            onDocumentSelect: handleDocumentSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"bg-white border-t border-gray-200 mt-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"\\xA9 2025 Intelligence Document Analyzer.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), (analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$metadat2 = analysisData.metadata) === null || _analysisData$metadat2 === void 0 ? void 0 : _analysisData$metadat2.uploaded_at) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400\",\n              children: [\"Last Analysis: \", new Date(analysisData.metadata.uploaded_at).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s5(App, \"6iZAa7boZ9feQHKOQ47i/v7v2zQ=\");\n_c8 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"GlobalStyles\");\n$RefreshReg$(_c2, \"IntelligenceAnalyzer\");\n$RefreshReg$(_c3, \"QueryInterface\");\n$RefreshReg$(_c4, \"AnalysisResults\");\n$RefreshReg$(_c5, \"ForecastingDashboard\");\n$RefreshReg$(_c6, \"GeospatialMap\");\n$RefreshReg$(_c7, \"DocumentList\");\n$RefreshReg$(_c8, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Search","BarChart3","Map","List","Shield","Brain","Upload","CheckCircle","Loader2","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","IntelligenceAnalyzer","onDocumentAnalyzed","_s","selectedFile","setSelectedFile","uploading","setUploading","error","setError","dragActive","setDragActive","fileInputRef","handleFileSelect","file","handleDrop","e","preventDefault","stopPropagation","dataTransfer","files","handleDragEvent","type","uploadAndAnalyze","formData","FormData","append","response","fetch","method","body","ok","errData","json","Error","detail","status","data","err","message","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","toFixed","className","onDrop","onDragOver","onDragEnter","onDragLeave","onClick","_fileInputRef$current","current","click","ref","onChange","_e$target$files","target","accept","name","size","disabled","_c2","QueryInterface","onQueryResponse","_s2","query","setQuery","loading","setLoading","handleSubmit","trim","headers","JSON","stringify","k","onSubmit","value","placeholder","rows","_c3","AnalysisResults","analysisData","queryResponse","_analysisData$metadat","_analysisData$analysi","_analysisData$analysi2","_analysisData$analysi3","_analysisData$analysi4","_analysisData$analysi5","metadata","filename","Object","entries","analysis","entities","map","key","Array","isArray","length","join","sentiment_analysis","overall_sentiment","threat_level","_c4","ForecastingDashboard","from","_","incidents","random","predicted","width","height","strokeDasharray","dataKey","stroke","_c5","GeospatialMap","_s3","mapContainer","window","mapboxgl","console","accessToken","container","style","center","zoom","_analysisData$analysi6","_analysisData$analysi7","geographic_intelligence","coordinates","coords","forEach","coord","Marker","setLngLat","longitude","latitude","setPopup","Popup","setText","location_name","addTo","bounds","LngLatBounds","extend","fitBounds","padding","_c6","DocumentList","onDocumentSelect","_s4","documents","setDocuments","mockDocs","doc","Date","uploaded_at","toLocaleDateString","id","_c7","App","_s5","_analysisData$metadat2","activeTab","setActiveTab","setAnalysisData","setQueryResponse","handleDocumentAnalyzed","document","handleDocumentSelect","handleQueryResponse","tabs","label","icon","mapboxScript","createElement","src","head","appendChild","mapboxCss","href","rel","tab","Icon","isActive","toLocaleString","_c8","$RefreshReg$"],"sources":["/Users/abduldattijo/Downloads/intelaanalysis/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { FileText, Search, BarChart3, Map, List, Shield, Brain, AlertTriangle, Upload, CheckCircle, Loader2, Eye, Download, Calendar, Users, Activity, Target, TrendingUp, Filter } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, BarChart, Bar, PieChart, Pie, Cell, AreaChart, Area, ResponsiveContainer } from 'recharts';\n\n// NOTE: mapbox-gl is loaded via a script tag in the HTML to avoid bundling issues.\n// We declare it on the window object for TypeScript.\ndeclare global {\n    interface Window {\n        mapboxgl: any;\n    }\n}\n\n\n// STYLES - Combining CSS files into a style tag\nconst GlobalStyles = () => (\n  <style>{`\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      background-color: #f9fafb; /* Lighter gray for a cleaner look */\n    }\n    .line-clamp-2 {\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n    .mapboxgl-popup-content {\n      border-radius: 8px !important;\n      padding: 10px 15px !important;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\n      font-family: inherit !important;\n    }\n    .mapboxgl-popup-close-button {\n        font-size: 20px;\n        line-height: 1;\n        padding: 5px;\n    }\n  `}</style>\n);\n\n\n// INTERFACES\nexport interface Document {\n  id: string;\n  content: string;\n  metadata: {\n    filename: string;\n    file_type: string;\n    uploaded_at: string;\n    file_size: number;\n  };\n  analysis: {\n    document_classification: {\n      primary_type: string;\n      sub_types: string[];\n      confidence: number;\n      security_classification: string;\n    };\n    entities: {\n      persons: string[];\n      organizations: string[];\n      locations: string[];\n      weapons: string[];\n      vehicles: string[];\n      dates: string[];\n    };\n    sentiment_analysis: {\n      overall_sentiment: string;\n      sentiment_score: number;\n      threat_level: string;\n      urgency_indicators: string[];\n    };\n    geographic_intelligence: {\n      states: string[];\n      cities: string[];\n      countries: string[];\n      coordinates: Array<{\n        latitude: number;\n        longitude: number;\n        location_name: string;\n        confidence: number;\n      }>;\n      total_locations: number;\n      other_locations: string[];\n    };\n    temporal_intelligence: {\n      dates_mentioned: string[];\n      time_periods: string[];\n      months_mentioned: string[];\n      years_mentioned: string[];\n      temporal_patterns: string[];\n    };\n    numerical_intelligence: {\n      incidents: number[];\n      casualties: number[];\n      weapons: number[];\n      arrests: number[];\n      monetary_values: number[];\n    };\n    crime_patterns: {\n      primary_crimes: Array<[string, number]>;\n      crime_frequency: Record<string, number>;\n      crime_trends: Array<{\n        crime_type: string;\n        trend: string;\n        confidence: number;\n      }>;\n    };\n    relationships: Array<{\n      entity1: string;\n      entity2: string;\n      relationship_type: string;\n      confidence: number;\n    }>;\n    text_statistics: {\n      word_count: number;\n      sentence_count: number;\n      paragraph_count: number;\n      readability_score: number;\n      language: string;\n    };\n    intelligence_summary: string;\n    confidence_score: number;\n    processing_time: number;\n  };\n}\n\n// --- IntelligenceAnalyzer Component ---\ninterface IntelligenceAnalyzerProps {\n  onDocumentAnalyzed: (document: Document) => void;\n}\n\nconst IntelligenceAnalyzer: React.FC<IntelligenceAnalyzerProps> = ({ onDocumentAnalyzed }) => {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback((file: File) => {\n    setSelectedFile(file);\n    setError(null);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault(); e.stopPropagation(); setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) handleFileSelect(e.dataTransfer.files[0]);\n  }, [handleFileSelect]);\n\n  const handleDragEvent = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault(); e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") setDragActive(true);\n    else if (e.type === \"dragleave\") setDragActive(false);\n  }, []);\n\n  const uploadAndAnalyze = async () => {\n    if (!selectedFile) return;\n    setUploading(true); setError(null);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await fetch('http://localhost:8000/upload-document', { method: 'POST', body: formData });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onDocumentAnalyzed(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, i)).toFixed(2))} ${['Bytes', 'KB', 'MB', 'GB'][i]}`;\n  };\n\n  return (\n     <div className=\"p-6 space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <Upload className=\"h-5 w-5 text-blue-600 mr-2\" /> Document Upload & Analysis\n        </h2>\n        <div className={`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 ${dragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`}\n          onDrop={handleDrop} onDragOver={handleDragEvent} onDragEnter={handleDragEvent} onDragLeave={handleDragEvent} onClick={() => fileInputRef.current?.click()}>\n          <input ref={fileInputRef} type=\"file\" className=\"hidden\" onChange={(e) => e.target.files?.[0] && handleFileSelect(e.target.files[0])} accept=\".pdf,.doc,.docx,.txt\"/>\n           {selectedFile ? (\n              <>\n                <CheckCircle className=\"h-12 w-12 text-green-600 mx-auto\" />\n                <p className=\"text-lg font-medium text-gray-800 mt-2\">{selectedFile.name}</p>\n                <p className=\"text-sm text-gray-500\">{formatFileSize(selectedFile.size)}</p>\n              </>\n            ) : (\n               <>\n                <Upload className=\"h-12 w-12 text-gray-400 mx-auto\" />\n                <p className=\"text-lg font-medium text-gray-700\">Drop document here or click to browse</p>\n                <p className=\"text-sm text-gray-500 mt-1\">Supports PDF, DOCX, and TXT files.</p>\n              </>\n            )}\n        </div>\n        {error && <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800\">{error}</div>}\n        <div className=\"mt-6\">\n          <button onClick={uploadAndAnalyze} disabled={!selectedFile || uploading} className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center transition-colors\">\n            {uploading ? <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" /> : <Brain className=\"h-5 w-5 mr-2\" />}\n            {uploading ? 'Analyzing...' : 'Start AI Analysis'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n};\n\n// --- QueryInterface Component ---\ninterface QueryInterfaceProps { onQueryResponse: (response: string) => void; }\ninterface QueryResponse { response: string; sources: any[]; }\n\nconst QueryInterface: React.FC<QueryInterfaceProps> = ({ onQueryResponse }) => {\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true); setError(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query: query.trim(), k: 5 }),\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data: QueryResponse = await response.json();\n      onQueryResponse(data.response);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to get response');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n         <textarea value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Ask a question about your documents...\" className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\" rows={4}/>\n         {error && <div className=\"p-3 bg-red-50 text-red-700 rounded-lg\">{error}</div>}\n         <button type=\"submit\" disabled={!query.trim() || loading} className=\"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-medium py-3 rounded-lg flex items-center justify-center transition-colors\">\n          {loading ? <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" /> : <Search className=\"h-5 w-5 mr-2\" />}\n          Query Intelligence\n         </button>\n      </form>\n    </div>\n  );\n};\n\n// --- AnalysisResults Component (FIXED) ---\ninterface AnalysisResultsProps { analysisData: Document | null; queryResponse: string; }\nconst AnalysisResults: React.FC<AnalysisResultsProps> = ({ analysisData, queryResponse }) => {\n  if (!analysisData && !queryResponse) {\n    return <div className=\"p-8 text-center text-gray-500\">No analysis data available. Upload a document or perform a query.</div>;\n  }\n  return (\n    <div className=\"p-6 space-y-6\">\n      {analysisData && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n            <h3 className=\"text-xl font-bold mb-4\">Detailed Analysis: {analysisData?.metadata?.filename}</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                    <h4 className=\"font-semibold text-lg mb-2\">Entities</h4>\n                    {Object.entries(analysisData?.analysis?.entities || {}).map(([key, value]) => (\n                        <div key={key} className=\"mb-2\">\n                            <strong className=\"capitalize\">{key}:</strong>\n                            <p className=\"text-gray-600 text-sm\">{Array.isArray(value) && value.length > 0 ? value.join(', ') : 'N/A'}</p>\n                        </div>\n                    ))}\n                </div>\n                <div>\n                    <h4 className=\"font-semibold text-lg mb-2\">Sentiment</h4>\n                    <p><strong>Overall:</strong> {analysisData?.analysis?.sentiment_analysis?.overall_sentiment || 'N/A'}</p>\n                    <p><strong>Threat Level:</strong> {analysisData?.analysis?.sentiment_analysis?.threat_level || 'N/A'}</p>\n                </div>\n            </div>\n        </div>\n      )}\n      {queryResponse && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n            <h3 className=\"text-xl font-bold mb-2\">AI Query Response</h3>\n            <p className=\"text-gray-700 whitespace-pre-wrap\">{queryResponse}</p>\n        </div>\n        )}\n    </div>\n  );\n};\n\n\n// --- ForecastingDashboard Component ---\nconst ForecastingDashboard: React.FC = () => {\n    const data = Array.from({length: 30}, (_, i) => ({\n        name: `Day ${i + 1}`,\n        incidents: Math.floor(Math.random() * 20) + 5,\n        predicted: Math.floor(Math.random() * 20) + 5 + (Math.random() * 6 - 3),\n    }));\n    return (\n        <div className=\"p-6\">\n            <h2 className=\"text-2xl font-bold mb-4\">Threat Forecasting</h2>\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border h-96\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart data={data}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"name\" />\n                        <YAxis />\n                        <Tooltip />\n                        <Legend />\n                        <Line type=\"monotone\" dataKey=\"incidents\" stroke=\"#8884d8\" name=\"Actual Incidents\"/>\n                        <Line type=\"monotone\" dataKey=\"predicted\" stroke=\"#82ca9d\" strokeDasharray=\"5 5\" name=\"Predicted Incidents\" />\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        </div>\n    )\n};\n\n// --- GeospatialMap Component ---\ninterface GeospatialMapProps { analysisData: Document | null; }\nconst GeospatialMap: React.FC<GeospatialMapProps> = ({ analysisData }) => {\n  const mapContainer = useRef<HTMLDivElement>(null);\n  const map = useRef<any>(null);\n\n  useEffect(() => {\n    if (map.current) return; // initialize map only once\n    if (!mapContainer.current || !window.mapboxgl) {\n        console.error(\"Mapbox GL JS not loaded or map container not available.\");\n        return;\n    }\n    const mapboxgl = window.mapboxgl;\n    mapboxgl.accessToken = 'pk.eyJ1IjoiYWJkdWxkYXR0aWpvMSIsImEiOiJjbWM2bW83Y3IwbmN4MmtzYWw0cHppbXF4In0.0pSWoI2VOyPyORqCROJc9g';\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/dark-v11', // Dark style for contrast\n      center: [7.4, 9.0], // Centered on Nigeria\n      zoom: 5\n    });\n  });\n\n  useEffect(() => {\n    if (!map.current || !analysisData?.analysis?.geographic_intelligence?.coordinates) return;\n\n    const coords = analysisData.analysis.geographic_intelligence.coordinates;\n    if (coords.length === 0) return;\n\n    // Add markers\n    coords.forEach(coord => {\n        new window.mapboxgl.Marker()\n            .setLngLat([coord.longitude, coord.latitude])\n            .setPopup(new window.mapboxgl.Popup().setText(coord.location_name))\n            .addTo(map.current);\n    });\n\n    // Fit map to markers\n    const bounds = new window.mapboxgl.LngLatBounds();\n    coords.forEach(coord => {\n        bounds.extend([coord.longitude, coord.latitude]);\n    });\n    map.current.fitBounds(bounds, { padding: 60 });\n\n  }, [analysisData]);\n\n  return <div ref={mapContainer} className=\"h-[600px] w-full rounded-lg\" />;\n};\n\n\n// --- DocumentList Component ---\ninterface DocumentListProps { onDocumentSelect: (document: Document) => void; }\nconst DocumentList: React.FC<DocumentListProps> = ({ onDocumentSelect }) => {\n  const [documents, setDocuments] = useState<Document[]>([]);\n\n  useEffect(() => {\n    // This is still mocked as the backend endpoint is also a mock.\n    const mockDocs: Document[] = [\n      // This structure needs to match the full Document interface for selection to work\n    ];\n    setDocuments(mockDocs);\n  }, []);\n\n  if(documents.length === 0) {\n      return <div className=\"p-8 text-center text-gray-500\">No documents in the library yet.</div>\n  }\n\n  return (\n    <div className=\"p-6 space-y-4\">\n      {documents.map(doc => (\n        <div key={doc.id} className=\"p-4 bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer\" onClick={() => onDocumentSelect(doc)}>\n          <p className=\"font-semibold text-blue-600\">{doc.metadata.filename}</p>\n          <p className=\"text-sm text-gray-500\">Uploaded: {new Date(doc.metadata.uploaded_at).toLocaleDateString()}</p>\n        </div>\n      ))}\n    </div>\n  )\n};\n\n// --- Main App Component ---\ntype TabType = 'analyzer' | 'query' | 'results' | 'forecasting' | 'map' | 'documents';\n\nconst App: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<TabType>('analyzer');\n  const [analysisData, setAnalysisData] = useState<Document | null>(null);\n  const [queryResponse, setQueryResponse] = useState<string>('');\n\n  const handleDocumentAnalyzed = (document: Document) => {\n    setAnalysisData(document);\n    setActiveTab('results');\n  };\n\n  const handleDocumentSelect = (document: Document) => {\n    setAnalysisData(document);\n    setActiveTab('results');\n  };\n\n  const handleQueryResponse = (response: string) => {\n    setQueryResponse(response);\n    setActiveTab('results');\n  };\n\n  const tabs = [\n    { id: 'analyzer' as TabType, label: 'Analyzer', icon: Upload },\n    { id: 'query' as TabType, label: 'Query', icon: Search },\n    { id: 'results' as TabType, label: 'Results', icon: Brain },\n    { id: 'forecasting' as TabType, label: 'Forecasting', icon: BarChart3 },\n    { id: 'map' as TabType, label: 'Map', icon: Map },\n    { id: 'documents' as TabType, label: 'Library', icon: List }\n  ];\n\n  useEffect(() => {\n    const mapboxScript = document.createElement('script');\n    mapboxScript.src = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js';\n    document.head.appendChild(mapboxScript);\n\n    const mapboxCss = document.createElement('link');\n    mapboxCss.href = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css';\n    mapboxCss.rel = 'stylesheet';\n    document.head.appendChild(mapboxCss);\n  }, [])\n\n  return (\n    <>\n      <GlobalStyles />\n      <div className=\"min-h-screen bg-gray-50\">\n        <header className=\"bg-white border-b border-gray-200 shadow-sm\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center py-4\">\n              <div className=\"flex items-center\">\n                <Shield className=\"h-8 w-8 text-blue-600 mr-3\" />\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">Intelligence Document Analyzer</h1>\n                  <p className=\"text-sm text-gray-600\">AI-Powered Security Intelligence Platform</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <nav className=\"bg-white border-b border-gray-200\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex space-x-8 overflow-x-auto\">\n              {tabs.map((tab) => {\n                const Icon = tab.icon;\n                const isActive = activeTab === tab.id;\n                return (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${isActive ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'}`}\n                  >\n                    <Icon className=\"h-5 w-5\" />\n                    <span>{tab.label}</span>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </nav>\n\n        <main className=\"max-w-7xl mx-auto mt-6\">\n          <div className=\"bg-white rounded-lg shadow-md border border-gray-200\">\n            {activeTab === 'analyzer' && <IntelligenceAnalyzer onDocumentAnalyzed={handleDocumentAnalyzed} />}\n            {activeTab === 'query' && <QueryInterface onQueryResponse={handleQueryResponse} />}\n            {activeTab === 'results' && <AnalysisResults analysisData={analysisData} queryResponse={queryResponse} />}\n            {activeTab === 'forecasting' && <ForecastingDashboard />}\n            {activeTab === 'map' && <GeospatialMap analysisData={analysisData} />}\n            {activeTab === 'documents' && <DocumentList onDocumentSelect={handleDocumentSelect} />}\n          </div>\n        </main>\n\n        <footer className=\"bg-white border-t border-gray-200 mt-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\"> 2025 Intelligence Document Analyzer.</p>\n              {analysisData?.metadata?.uploaded_at && (\n                  <div className=\"text-xs text-gray-400\">\n                    Last Analysis: {new Date(analysisData.metadata.uploaded_at).toLocaleString()}\n                  </div>\n                )}\n            </div>\n          </div>\n        </footer>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}