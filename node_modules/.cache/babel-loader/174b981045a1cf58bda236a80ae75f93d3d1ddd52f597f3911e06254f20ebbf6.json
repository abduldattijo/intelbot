{"ast":null,"code":"var _jsxFileName = \"/Users/abduldattijo/Downloads/intelaanalysis/src/components/QueryInterface.tsx\",\n  _s = $RefreshSig$();\n// src/components/QueryInterface.tsx - AI Query Interface Component (Complete Fixed Version)\n\nimport React, { useState } from 'react';\nimport { Search, Brain, Loader2, AlertCircle, FileText, MessageSquare, Lightbulb } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QueryInterface = ({\n  onQueryResponse\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [queryResponse, setQueryResponse] = useState('');\n  const [error, setError] = useState(null);\n  const predefinedQueries = [\"What are the main security threats mentioned in the documents?\", \"Summarize the geographic locations and their threat levels\", \"What criminal activities are most frequently referenced?\", \"Identify key persons and organizations mentioned\", \"What are the temporal patterns in the incidents?\", \"Provide a risk assessment based on the analyzed documents\"];\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: query.trim()\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      setQueryResponse(data.response);\n\n      // Call parent callback if provided\n      if (onQueryResponse) {\n        onQueryResponse(data.response);\n      }\n      setError(null);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to process query';\n      setError(errorMessage);\n      setQueryResponse('');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePredefinedQuery = predefinedQuery => {\n    setQuery(predefinedQuery);\n  };\n  const clearQuery = () => {\n    setQuery('');\n    setQueryResponse('');\n    setError(null);\n  };\n  const formatResponse = response => {\n    const sections = response.split('\\n\\n');\n    return sections.map((section, index) => {\n      if (section.startsWith('**') && section.endsWith('**')) {\n        return /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mt-4 mb-2\",\n          children: section.replace(/\\*\\*/g, '')\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this);\n      } else if (section.includes('•')) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside space-y-1 mb-3\",\n          children: items.map((item, itemIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-700\",\n            children: item.replace('•', '').trim()\n          }, itemIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-3 leading-relaxed\",\n          children: section\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-2 flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-6 w-6 text-purple-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), \"AI Query Interface\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 max-w-2xl mx-auto\",\n        children: \"Ask questions about your analyzed documents using natural language. Get AI-powered insights and intelligence summaries.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"h-5 w-5 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), \"Query Input\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"query\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Enter your intelligence query:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"query\",\n            value: query,\n            onChange: e => setQuery(e.target.value),\n            placeholder: \"e.g., What are the main security threats in Lagos region?\",\n            className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y\",\n            rows: 4,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !query.trim() || loading,\n            className: \"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-5 w-5 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), \"Processing...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), \"Submit Query\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: clearQuery,\n            disabled: loading,\n            className: \"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200\",\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n          className: \"h-5 w-5 text-yellow-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), \"Suggested Queries\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n        children: predefinedQueries.map((predefinedQuery, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePredefinedQuery(predefinedQuery),\n          disabled: loading,\n          className: \"text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700\",\n              children: predefinedQuery\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"h-5 w-5 text-red-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-red-800\",\n          children: \"Query Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-700 mt-1\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"mt-3 text-sm text-red-600 hover:text-red-800 underline\",\n        children: \"Dismiss\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), queryResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-5 w-5 text-green-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), \"AI Response\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prose prose-gray max-w-none\",\n          children: formatResponse(queryResponse)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigator.clipboard.writeText(queryResponse),\n          className: \"text-sm text-gray-600 hover:text-gray-800 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-4 w-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), \"Copy Response\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-5 w-5 text-blue-600 mr-2 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-blue-800\",\n            children: \"How it works\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700 mt-1\",\n            children: \"This AI query interface analyzes your processed documents to provide intelligent responses. You can ask about threats, locations, entities, patterns, and more. The more specific your query, the better the AI can help you extract relevant intelligence insights.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(QueryInterface, \"fqvYvzED3G+yavxhQPDUCVp85Ps=\");\n_c = QueryInterface;\nexport default QueryInterface;\nvar _c;\n$RefreshReg$(_c, \"QueryInterface\");","map":{"version":3,"names":["React","useState","Search","Brain","Loader2","AlertCircle","FileText","MessageSquare","Lightbulb","jsxDEV","_jsxDEV","Fragment","_Fragment","QueryInterface","onQueryResponse","_s","query","setQuery","loading","setLoading","queryResponse","setQueryResponse","error","setError","predefinedQueries","handleSubmit","e","preventDefault","trim","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","err","errorMessage","message","handlePredefinedQuery","predefinedQuery","clearQuery","formatResponse","sections","split","map","section","index","startsWith","endsWith","className","children","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","items","filter","item","itemIndex","onSubmit","htmlFor","id","value","onChange","target","placeholder","rows","disabled","type","onClick","navigator","clipboard","writeText","_c","$RefreshReg$"],"sources":["/Users/abduldattijo/Downloads/intelaanalysis/src/components/QueryInterface.tsx"],"sourcesContent":["// src/components/QueryInterface.tsx - AI Query Interface Component (Complete Fixed Version)\n\nimport React, { useState } from 'react';\nimport { Search, Brain, Loader2, AlertCircle, FileText, MessageSquare, Lightbulb } from 'lucide-react';\n\ninterface QueryInterfaceProps {\n  onQueryResponse?: (response: string) => void;\n}\n\nconst QueryInterface: React.FC<QueryInterfaceProps> = ({ onQueryResponse }) => {\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [queryResponse, setQueryResponse] = useState('');\n  const [error, setError] = useState<string | null>(null);\n\n  const predefinedQueries = [\n    \"What are the main security threats mentioned in the documents?\",\n    \"Summarize the geographic locations and their threat levels\",\n    \"What criminal activities are most frequently referenced?\",\n    \"Identify key persons and organizations mentioned\",\n    \"What are the temporal patterns in the incidents?\",\n    \"Provide a risk assessment based on the analyzed documents\"\n  ];\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ query: query.trim() }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      setQueryResponse(data.response);\n\n      // Call parent callback if provided\n      if (onQueryResponse) {\n        onQueryResponse(data.response);\n      }\n\n      setError(null);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to process query';\n      setError(errorMessage);\n      setQueryResponse('');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePredefinedQuery = (predefinedQuery: string) => {\n    setQuery(predefinedQuery);\n  };\n\n  const clearQuery = () => {\n    setQuery('');\n    setQueryResponse('');\n    setError(null);\n  };\n\n  const formatResponse = (response: string) => {\n    const sections = response.split('\\n\\n');\n    return sections.map((section, index) => {\n      if (section.startsWith('**') && section.endsWith('**')) {\n        return (\n          <h4 key={index} className=\"font-semibold text-gray-900 mt-4 mb-2\">\n            {section.replace(/\\*\\*/g, '')}\n          </h4>\n        );\n      } else if (section.includes('•')) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return (\n          <ul key={index} className=\"list-disc list-inside space-y-1 mb-3\">\n            {items.map((item, itemIndex) => (\n              <li key={itemIndex} className=\"text-gray-700\">\n                {item.replace('•', '').trim()}\n              </li>\n            ))}\n          </ul>\n        );\n      } else {\n        return (\n          <p key={index} className=\"text-gray-700 mb-3 leading-relaxed\">\n            {section}\n          </p>\n        );\n      }\n    });\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2 flex items-center justify-center\">\n          <Brain className=\"h-6 w-6 text-purple-600 mr-2\" />\n          AI Query Interface\n        </h2>\n        <p className=\"text-gray-600 max-w-2xl mx-auto\">\n          Ask questions about your analyzed documents using natural language.\n          Get AI-powered insights and intelligence summaries.\n        </p>\n      </div>\n\n      {/* Query Input Section */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <MessageSquare className=\"h-5 w-5 text-blue-600 mr-2\" />\n          Query Input\n        </h3>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"query\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Enter your intelligence query:\n            </label>\n            <textarea\n              id=\"query\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              placeholder=\"e.g., What are the main security threats in Lagos region?\"\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y\"\n              rows={4}\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <button\n              type=\"submit\"\n              disabled={!query.trim() || loading}\n              className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />\n                  Processing...\n                </>\n              ) : (\n                <>\n                  <Search className=\"h-5 w-5 mr-2\" />\n                  Submit Query\n                </>\n              )}\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={clearQuery}\n              disabled={loading}\n              className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n            >\n              Clear\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Predefined Queries */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <Lightbulb className=\"h-5 w-5 text-yellow-600 mr-2\" />\n          Suggested Queries\n        </h3>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n          {predefinedQueries.map((predefinedQuery, index) => (\n            <button\n              key={index}\n              onClick={() => handlePredefinedQuery(predefinedQuery)}\n              disabled={loading}\n              className=\"text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <div className=\"flex items-start\">\n                <Search className=\"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" />\n                <span className=\"text-sm text-gray-700\">{predefinedQuery}</span>\n              </div>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <AlertCircle className=\"h-5 w-5 text-red-600 mr-2\" />\n            <h3 className=\"text-lg font-medium text-red-800\">Query Error</h3>\n          </div>\n          <p className=\"text-red-700 mt-1\">{error}</p>\n          <button\n            onClick={() => setError(null)}\n            className=\"mt-3 text-sm text-red-600 hover:text-red-800 underline\"\n          >\n            Dismiss\n          </button>\n        </div>\n      )}\n\n      {/* Query Response */}\n      {queryResponse && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <Brain className=\"h-5 w-5 text-green-600 mr-2\" />\n            AI Response\n          </h3>\n\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <div className=\"prose prose-gray max-w-none\">\n              {formatResponse(queryResponse)}\n            </div>\n          </div>\n\n          <div className=\"mt-4 flex justify-end\">\n            <button\n              onClick={() => navigator.clipboard.writeText(queryResponse)}\n              className=\"text-sm text-gray-600 hover:text-gray-800 flex items-center\"\n            >\n              <FileText className=\"h-4 w-4 mr-1\" />\n              Copy Response\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Information Card */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start\">\n          <Brain className=\"h-5 w-5 text-blue-600 mr-2 mt-0.5\" />\n          <div>\n            <h4 className=\"text-sm font-medium text-blue-800\">How it works</h4>\n            <p className=\"text-sm text-blue-700 mt-1\">\n              This AI query interface analyzes your processed documents to provide intelligent responses.\n              You can ask about threats, locations, entities, patterns, and more. The more specific your\n              query, the better the AI can help you extract relevant intelligence insights.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QueryInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}