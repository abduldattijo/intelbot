{"ast":null,"code":"var _jsxFileName = \"/Users/abduldattijo/Downloads/intelaanalysis/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { FileText, Search, BarChart3, Map, List, Shield, Brain, Upload, CheckCircle, Loader2, Users, TrendingDown } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\n// NOTE: mapbox-gl is loaded via a script tag in the HTML to avoid bundling issues.\n// We declare it on the window object for TypeScript.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// STYLES - Combining CSS files into a style tag\nconst GlobalStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      background-color: #f8fafc; /* Lighter gray for a cleaner look */\n    }\n    .line-clamp-2 {\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n    .mapboxgl-popup-content {\n      border-radius: 8px !important;\n      padding: 10px 15px !important;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\n      font-family: inherit !important;\n      background: rgba(40, 43, 54, 0.9);\n      color: #fff;\n    }\n     .mapboxgl-popup-close-button {\n        color: #fff !important;\n     }\n    .mapboxgl-popup-anchor-top .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n        border-bottom-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n        border-top-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n        border-right-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n        border-left-color: rgba(40, 43, 54, 0.9);\n    }\n  `\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 3\n}, this);\n\n// INTERFACES\n_c = GlobalStyles; // --- IntelligenceAnalyzer Component ---\nconst IntelligenceAnalyzer = ({\n  onDocumentAnalyzed\n}) => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  const handleFileSelect = useCallback(file => {\n    setSelectedFile(file);\n    setError(null);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) handleFileSelect(e.dataTransfer.files[0]);\n  }, [handleFileSelect]);\n  const handleDragEvent = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") setDragActive(true);else if (e.type === \"dragleave\") setDragActive(false);\n  }, []);\n  const uploadAndAnalyze = async () => {\n    if (!selectedFile) return;\n    setUploading(true);\n    setError(null);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await fetch('http://localhost:8000/upload-document', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onDocumentAnalyzed(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, i)).toFixed(2))} ${['Bytes', 'KB', 'MB', 'GB'][i]}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Upload, {\n          className: \"h-5 w-5 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), \" Document Upload & Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `relative border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 ${dragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,\n        onDrop: handleDrop,\n        onDragOver: handleDragEvent,\n        onDragEnter: handleDragEvent,\n        onDragLeave: handleDragEvent,\n        onClick: () => {\n          var _fileInputRef$current;\n          return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          className: \"hidden\",\n          onChange: e => {\n            var _e$target$files;\n            return ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) && handleFileSelect(e.target.files[0]);\n          },\n          accept: \".pdf,.doc,.docx,.txt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), selectedFile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-12 w-12 text-green-600 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-800 mt-2\",\n            children: selectedFile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: formatFileSize(selectedFile.size)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"h-12 w-12 text-gray-400 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-700\",\n            children: \"Drop document here or click to browse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Supports PDF, DOCX, and TXT files.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: uploadAndAnalyze,\n          disabled: !selectedFile || uploading,\n          className: \"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center transition-colors\",\n          children: [uploading ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"h-5 w-5 mr-2 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(Brain, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 78\n          }, this), uploading ? 'Analyzing...' : 'Start AI Analysis']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 6\n  }, this);\n};\n\n// --- QueryInterface Component ---\n_s(IntelligenceAnalyzer, \"oO4yEmsy4+wQZ+1svUgu2SlB8k8=\");\n_c2 = IntelligenceAnalyzer;\nconst QueryInterface = ({\n  onQueryResponse\n}) => {\n  _s2();\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: query.trim(),\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onQueryResponse(data.response);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to get response');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        placeholder: \"Ask a question about your documents...\",\n        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",\n        rows: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 10\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-red-50 text-red-700 rounded-lg\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !query.trim() || loading,\n        className: \"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-medium py-3 rounded-lg flex items-center justify-center transition-colors\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-5 w-5 mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 74\n        }, this), \"Query Intelligence\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n};\n\n// --- AnalysisResults Component (FULLY IMPLEMENTED) ---\n_s2(QueryInterface, \"s/QqPjYQri18KslbTNffvi3o13M=\");\n_c3 = QueryInterface;\nconst AnalysisResults = ({\n  analysisData,\n  queryResponse\n}) => {\n  if (!analysisData && !queryResponse) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"No analysis data available. Upload a document or perform a query.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 12\n    }, this);\n  }\n  const hasAnalysis = analysisData && analysisData.metadata && analysisData.analysis;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [hasAnalysis && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-sm border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold mb-2\",\n          children: [\"Analysis for: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600\",\n            children: analysisData.metadata.filename\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: analysisData.analysis.intelligence_summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg mb-3 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"mr-2 h-5 w-5 text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 86\n              }, this), \"Extracted Entities\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n              children: Object.entries(analysisData.analysis.entities).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"capitalize text-gray-800\",\n                  children: [key, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 text-sm h-20 overflow-y-auto p-2 bg-gray-50 rounded mt-1\",\n                  children: Array.isArray(value) && value.length > 0 ? value.join(', ') : 'None identified'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg mb-3 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Map, {\n                className: \"mr-2 h-5 w-5 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 86\n              }, this), \"Geographic Intelligence\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"States:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 28\n              }, this), \" \", analysisData.analysis.geographic_intelligence.states.join(', ') || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Cities:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 28\n              }, this), \" \", analysisData.analysis.geographic_intelligence.cities.join(', ') || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Coordinates Found:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 28\n              }, this), \" \", analysisData.analysis.geographic_intelligence.coordinates.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg mb-3 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"mr-2 h-5 w-5 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 86\n              }, this), \"Threat Assessment\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Overall Sentiment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 28\n              }, this), \" \", analysisData.analysis.sentiment_analysis.overall_sentiment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Threat Level:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 28\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-bold ${analysisData.analysis.sentiment_analysis.threat_level === 'High' ? 'text-red-500' : analysisData.analysis.sentiment_analysis.threat_level === 'Medium' ? 'text-yellow-500' : 'text-green-500'}`,\n                children: analysisData.analysis.sentiment_analysis.threat_level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg mb-3 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"mr-2 h-5 w-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 86\n              }, this), \"Document Stats\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Word Count:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 28\n              }, this), \" \", analysisData.analysis.text_statistics.word_count]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Confidence:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 28\n              }, this), \" \", (analysisData.analysis.confidence_score * 100).toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), queryResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-sm border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-2\",\n        children: \"AI Query Response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 whitespace-pre-wrap leading-relaxed\",\n        children: queryResponse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n};\n\n// --- ForecastingDashboard Component (FULLY IMPLEMENTED) ---\n_c4 = AnalysisResults;\nconst ForecastingDashboard = () => {\n  const data = Array.from({\n    length: 30\n  }, (_, i) => ({\n    name: `Day ${i + 1}`,\n    incidents: Math.floor(Math.random() * 20) + 5,\n    predicted: Math.floor(Math.random() * 20) + 5 + (Math.random() * 6 - 3),\n    threatLevel: Math.random() * 100\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold\",\n      children: \"Threat Forecasting Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-sm border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-gray-500\",\n          children: \"Projected Threat Level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-red-500\",\n          children: \"78% (High)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-sm border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-gray-500\",\n          children: \"Incident Trend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-green-500 flex items-center\",\n          children: [\"-12% \", /*#__PURE__*/_jsxDEV(TrendingDown, {\n            className: \"h-6 w-6 ml-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 93\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow-sm border\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-gray-500\",\n          children: \"Model Confidence\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-blue-500\",\n          children: \"92.5%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-sm border h-96\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-4\",\n        children: \"Incidents vs. Predictions (30 Days)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"90%\",\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: data,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"incidents\",\n            stroke: \"#8884d8\",\n            name: \"Actual Incidents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"predicted\",\n            stroke: \"#82ca9d\",\n            strokeDasharray: \"5 5\",\n            name: \"Predicted Incidents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 9\n  }, this);\n};\n\n// --- GeospatialMap Component (FULLY IMPLEMENTED) ---\n_c5 = ForecastingDashboard;\nconst GeospatialMap = ({\n  analysisData\n}) => {\n  _s3();\n  const mapContainer = useRef(null);\n  const map = useRef(null);\n  useEffect(() => {\n    if (map.current || !mapContainer.current || !window.mapboxgl) return;\n    const mapboxgl = window.mapboxgl;\n    mapboxgl.accessToken = 'pk.eyJ1IjoiYWJkdWxkYXR0aWpvMSIsImEiOiJjbWM2bW83Y3IwbmN4MmtzYWw0cHppbXF4In0.0pSWoI2VOyPyORqCROJc9g';\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/dark-v11',\n      center: [8.6753, 9.0820],\n      // Centered on Nigeria\n      zoom: 5\n    });\n  }, []);\n  useEffect(() => {\n    var _analysisData$analysi, _analysisData$analysi2;\n    if (!map.current || !(analysisData !== null && analysisData !== void 0 && (_analysisData$analysi = analysisData.analysis) !== null && _analysisData$analysi !== void 0 && (_analysisData$analysi2 = _analysisData$analysi.geographic_intelligence) !== null && _analysisData$analysi2 !== void 0 && _analysisData$analysi2.coordinates)) return;\n\n    // Clear existing markers\n    document.querySelectorAll('.mapboxgl-marker').forEach(marker => marker.remove());\n    const coords = analysisData.analysis.geographic_intelligence.coordinates;\n    if (coords.length === 0) {\n      map.current.flyTo({\n        center: [8.6753, 9.0820],\n        zoom: 5\n      });\n      return;\n    }\n    ;\n    coords.forEach(coord => {\n      new window.mapboxgl.Marker({\n        color: '#e53e3e'\n      }).setLngLat([coord.longitude, coord.latitude]).setPopup(new window.mapboxgl.Popup().setHTML(`<strong>${coord.location_name}</strong>`)).addTo(map.current);\n    });\n    const bounds = new window.mapboxgl.LngLatBounds();\n    coords.forEach(coord => bounds.extend([coord.longitude, coord.latitude]));\n    map.current.fitBounds(bounds, {\n      padding: 80,\n      maxZoom: 14\n    });\n  }, [analysisData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapContainer,\n    className: \"h-[600px] w-full rounded-lg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 433,\n    columnNumber: 10\n  }, this);\n};\n\n// --- DocumentList Component (FULLY IMPLEMENTED) ---\n_s3(GeospatialMap, \"YucpQ3b8IpldxLXyPEsMQhZZIbE=\");\n_c6 = GeospatialMap;\nconst DocumentList = ({\n  onDocumentSelect\n}) => {\n  _s4();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // This is still mocked as the backend endpoint is also a mock.\n    // In a real app, this would fetch the full document list.\n    const mockDocs = [];\n    setDocuments(mockDocs);\n    setLoading(false);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center\",\n      children: /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-8 w-8 animate-spin mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 14\n    }, this);\n  }\n  if (documents.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"No documents in the library yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 14\n    }, this);\n  }\n  const fetchFullDocument = async docId => {\n    alert(\"This feature requires the /document/{id} endpoint to be implemented on the backend.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold\",\n      children: \"Document Library\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 9\n    }, this), documents.map(doc => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-blue-600\",\n          children: doc.filename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: [\"Processed: \", new Date(doc.processed_at).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => fetchFullDocument(doc.id),\n        className: \"bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg text-sm\",\n        children: \"View Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 11\n      }, this)]\n    }, doc.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s4(DocumentList, \"8r31evLcXq7q8yzkqc7GkHLWPYA=\");\n_c7 = DocumentList;\nconst App = () => {\n  _s5();\n  var _analysisData$metadat;\n  const [activeTab, setActiveTab] = useState('analyzer');\n  const [analysisData, setAnalysisData] = useState(null);\n  const [queryResponse, setQueryResponse] = useState('');\n  const handleDocumentAnalyzed = document => {\n    setAnalysisData(document);\n    setQueryResponse(\"\"); // Clear previous query response\n    setActiveTab('results');\n  };\n  const handleDocumentSelect = document => {\n    setAnalysisData(document);\n    setQueryResponse(\"\");\n    setActiveTab('results');\n  };\n  const handleQueryResponse = response => {\n    setAnalysisData(null); // Clear previous doc analysis\n    setQueryResponse(response);\n    setActiveTab('results');\n  };\n  const tabs = [{\n    id: 'analyzer',\n    label: 'Analyzer',\n    icon: Upload\n  }, {\n    id: 'query',\n    label: 'Query',\n    icon: Search\n  }, {\n    id: 'results',\n    label: 'Results',\n    icon: Brain\n  }, {\n    id: 'forecasting',\n    label: 'Forecasting',\n    icon: BarChart3\n  }, {\n    id: 'map',\n    label: 'Map',\n    icon: Map\n  }, {\n    id: 'documents',\n    label: 'Library',\n    icon: List\n  }];\n  useEffect(() => {\n    const mapboxScript = document.createElement('script');\n    mapboxScript.src = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js';\n    document.head.appendChild(mapboxScript);\n    const mapboxCss = document.createElement('link');\n    mapboxCss.href = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css';\n    mapboxCss.rel = 'stylesheet';\n    document.head.appendChild(mapboxCss);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white border-b border-gray-200 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                className: \"h-8 w-8 text-blue-600 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: \"Intelligence Document Analyzer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"AI-Powered Security Intelligence Platform\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"bg-white border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-8 overflow-x-auto\",\n            children: tabs.map(tab => {\n              const Icon = tab.icon;\n              const isActive = activeTab === tab.id;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab(tab.id),\n                className: `flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${isActive ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'}`,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: tab.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this)]\n              }, tab.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-7xl mx-auto mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md border border-gray-200 min-h-[600px]\",\n          children: [activeTab === 'analyzer' && /*#__PURE__*/_jsxDEV(IntelligenceAnalyzer, {\n            onDocumentAnalyzed: handleDocumentAnalyzed\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 42\n          }, this), activeTab === 'query' && /*#__PURE__*/_jsxDEV(QueryInterface, {\n            onQueryResponse: handleQueryResponse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 39\n          }, this), activeTab === 'results' && /*#__PURE__*/_jsxDEV(AnalysisResults, {\n            analysisData: analysisData,\n            queryResponse: queryResponse\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 41\n          }, this), activeTab === 'forecasting' && /*#__PURE__*/_jsxDEV(ForecastingDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 45\n          }, this), activeTab === 'map' && /*#__PURE__*/_jsxDEV(GeospatialMap, {\n            analysisData: analysisData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 37\n          }, this), activeTab === 'documents' && /*#__PURE__*/_jsxDEV(DocumentList, {\n            onDocumentSelect: handleDocumentSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"bg-white border-t border-gray-200 mt-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"\\xA9 2025 Intelligence Document Analyzer.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 15\n            }, this), (analysisData === null || analysisData === void 0 ? void 0 : (_analysisData$metadat = analysisData.metadata) === null || _analysisData$metadat === void 0 ? void 0 : _analysisData$metadat.uploaded_at) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400\",\n              children: [\"Last Analysis: \", new Date(analysisData.metadata.uploaded_at).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s5(App, \"6iZAa7boZ9feQHKOQ47i/v7v2zQ=\");\n_c8 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"GlobalStyles\");\n$RefreshReg$(_c2, \"IntelligenceAnalyzer\");\n$RefreshReg$(_c3, \"QueryInterface\");\n$RefreshReg$(_c4, \"AnalysisResults\");\n$RefreshReg$(_c5, \"ForecastingDashboard\");\n$RefreshReg$(_c6, \"GeospatialMap\");\n$RefreshReg$(_c7, \"DocumentList\");\n$RefreshReg$(_c8, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","FileText","Search","BarChart3","Map","List","Shield","Brain","Upload","CheckCircle","Loader2","Users","TrendingDown","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalStyles","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","IntelligenceAnalyzer","onDocumentAnalyzed","_s","selectedFile","setSelectedFile","uploading","setUploading","error","setError","dragActive","setDragActive","fileInputRef","handleFileSelect","file","handleDrop","e","preventDefault","stopPropagation","dataTransfer","files","handleDragEvent","type","uploadAndAnalyze","formData","FormData","append","response","fetch","method","body","ok","errData","json","Error","detail","status","data","err","message","formatFileSize","bytes","i","Math","floor","log","parseFloat","pow","toFixed","className","onDrop","onDragOver","onDragEnter","onDragLeave","onClick","_fileInputRef$current","current","click","ref","onChange","_e$target$files","target","accept","name","size","disabled","_c2","QueryInterface","onQueryResponse","_s2","query","setQuery","loading","setLoading","handleSubmit","trim","headers","JSON","stringify","k","onSubmit","value","placeholder","rows","_c3","AnalysisResults","analysisData","queryResponse","hasAnalysis","metadata","analysis","filename","intelligence_summary","Object","entries","entities","map","key","Array","isArray","length","join","geographic_intelligence","states","cities","coordinates","sentiment_analysis","overall_sentiment","threat_level","text_statistics","word_count","confidence_score","_c4","ForecastingDashboard","from","_","incidents","random","predicted","threatLevel","width","height","strokeDasharray","dataKey","stroke","_c5","GeospatialMap","_s3","mapContainer","window","mapboxgl","accessToken","container","style","center","zoom","_analysisData$analysi","_analysisData$analysi2","document","querySelectorAll","forEach","marker","remove","coords","flyTo","coord","Marker","color","setLngLat","longitude","latitude","setPopup","Popup","setHTML","location_name","addTo","bounds","LngLatBounds","extend","fitBounds","padding","maxZoom","_c6","DocumentList","onDocumentSelect","_s4","documents","setDocuments","mockDocs","fetchFullDocument","docId","alert","doc","Date","processed_at","toLocaleString","id","_c7","App","_s5","_analysisData$metadat","activeTab","setActiveTab","setAnalysisData","setQueryResponse","handleDocumentAnalyzed","handleDocumentSelect","handleQueryResponse","tabs","label","icon","mapboxScript","createElement","src","head","appendChild","mapboxCss","href","rel","tab","Icon","isActive","uploaded_at","_c8","$RefreshReg$"],"sources":["/Users/abduldattijo/Downloads/intelaanalysis/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { FileText, Search, BarChart3, Map, List, Shield, Brain, Upload, CheckCircle, Loader2, Users, Activity, Target, TrendingUp, Filter, TrendingDown } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\n// NOTE: mapbox-gl is loaded via a script tag in the HTML to avoid bundling issues.\n// We declare it on the window object for TypeScript.\ndeclare global {\n    interface Window {\n        mapboxgl: any;\n    }\n}\n\n\n// STYLES - Combining CSS files into a style tag\nconst GlobalStyles = () => (\n  <style>{`\n    body {\n      margin: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      background-color: #f8fafc; /* Lighter gray for a cleaner look */\n    }\n    .line-clamp-2 {\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n    .mapboxgl-popup-content {\n      border-radius: 8px !important;\n      padding: 10px 15px !important;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\n      font-family: inherit !important;\n      background: rgba(40, 43, 54, 0.9);\n      color: #fff;\n    }\n     .mapboxgl-popup-close-button {\n        color: #fff !important;\n     }\n    .mapboxgl-popup-anchor-top .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n        border-bottom-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip,\n    .mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n        border-top-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n        border-right-color: rgba(40, 43, 54, 0.9);\n    }\n    .mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n        border-left-color: rgba(40, 43, 54, 0.9);\n    }\n  `}</style>\n);\n\n\n// INTERFACES\nexport interface Document {\n  id: string;\n  content: string;\n  metadata: {\n    filename: string;\n    file_type: string;\n    uploaded_at: string;\n    file_size: number;\n  };\n  analysis: {\n    document_classification: {\n      primary_type: string;\n      sub_types: string[];\n      confidence: number;\n      security_classification: string;\n    };\n    entities: {\n      persons: string[];\n      organizations: string[];\n      locations: string[];\n      weapons: string[];\n      vehicles: string[];\n      dates: string[];\n    };\n    sentiment_analysis: {\n      overall_sentiment: string;\n      sentiment_score: number;\n      threat_level: string;\n      urgency_indicators: string[];\n    };\n    geographic_intelligence: {\n      states: string[];\n      cities: string[];\n      countries: string[];\n      coordinates: Array<{\n        latitude: number;\n        longitude: number;\n        location_name: string;\n        confidence: number;\n      }>;\n      total_locations: number;\n      other_locations: string[];\n    };\n    temporal_intelligence: {\n      dates_mentioned: string[];\n      time_periods: string[];\n      months_mentioned: string[];\n      years_mentioned: string[];\n      temporal_patterns: string[];\n    };\n    numerical_intelligence: {\n      incidents: number[];\n      casualties: number[];\n      weapons: number[];\n      arrests: number[];\n      monetary_values: number[];\n    };\n    crime_patterns: {\n      primary_crimes: Array<[string, number]>;\n      crime_frequency: Record<string, number>;\n      crime_trends: Array<{\n        crime_type: string;\n        trend: string;\n        confidence: number;\n      }>;\n    };\n    relationships: Array<{\n      entity1: string;\n      entity2: string;\n      relationship_type: string;\n      confidence: number;\n    }>;\n    text_statistics: {\n      word_count: number;\n      sentence_count: number;\n      paragraph_count: number;\n      readability_score: number;\n      language: string;\n    };\n    intelligence_summary: string;\n    confidence_score: number;\n    processing_time: number;\n  };\n}\n\n// --- IntelligenceAnalyzer Component ---\ninterface IntelligenceAnalyzerProps {\n  onDocumentAnalyzed: (document: Document) => void;\n}\n\nconst IntelligenceAnalyzer: React.FC<IntelligenceAnalyzerProps> = ({ onDocumentAnalyzed }) => {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback((file: File) => {\n    setSelectedFile(file);\n    setError(null);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault(); e.stopPropagation(); setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) handleFileSelect(e.dataTransfer.files[0]);\n  }, [handleFileSelect]);\n\n  const handleDragEvent = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault(); e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") setDragActive(true);\n    else if (e.type === \"dragleave\") setDragActive(false);\n  }, []);\n\n  const uploadAndAnalyze = async () => {\n    if (!selectedFile) return;\n    setUploading(true); setError(null);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      const response = await fetch('http://localhost:8000/upload-document', { method: 'POST', body: formData });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      onDocumentAnalyzed(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, i)).toFixed(2))} ${['Bytes', 'KB', 'MB', 'GB'][i]}`;\n  };\n\n  return (\n     <div className=\"p-6 space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <Upload className=\"h-5 w-5 text-blue-600 mr-2\" /> Document Upload & Analysis\n        </h2>\n        <div className={`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 ${dragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`}\n          onDrop={handleDrop} onDragOver={handleDragEvent} onDragEnter={handleDragEvent} onDragLeave={handleDragEvent} onClick={() => fileInputRef.current?.click()}>\n          <input ref={fileInputRef} type=\"file\" className=\"hidden\" onChange={(e) => e.target.files?.[0] && handleFileSelect(e.target.files[0])} accept=\".pdf,.doc,.docx,.txt\"/>\n           {selectedFile ? (\n              <>\n                <CheckCircle className=\"h-12 w-12 text-green-600 mx-auto\" />\n                <p className=\"text-lg font-medium text-gray-800 mt-2\">{selectedFile.name}</p>\n                <p className=\"text-sm text-gray-500\">{formatFileSize(selectedFile.size)}</p>\n              </>\n            ) : (\n               <>\n                <Upload className=\"h-12 w-12 text-gray-400 mx-auto\" />\n                <p className=\"text-lg font-medium text-gray-700\">Drop document here or click to browse</p>\n                <p className=\"text-sm text-gray-500 mt-1\">Supports PDF, DOCX, and TXT files.</p>\n              </>\n            )}\n        </div>\n        {error && <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800\">{error}</div>}\n        <div className=\"mt-6\">\n          <button onClick={uploadAndAnalyze} disabled={!selectedFile || uploading} className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center transition-colors\">\n            {uploading ? <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" /> : <Brain className=\"h-5 w-5 mr-2\" />}\n            {uploading ? 'Analyzing...' : 'Start AI Analysis'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n};\n\n// --- QueryInterface Component ---\ninterface QueryInterfaceProps { onQueryResponse: (response: string) => void; }\ninterface QueryResponse { response: string; sources: any[]; }\n\nconst QueryInterface: React.FC<QueryInterfaceProps> = ({ onQueryResponse }) => {\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true); setError(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST', headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query: query.trim(), k: 5 }),\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data: QueryResponse = await response.json();\n      onQueryResponse(data.response);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to get response');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n         <textarea value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Ask a question about your documents...\" className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\" rows={4}/>\n         {error && <div className=\"p-3 bg-red-50 text-red-700 rounded-lg\">{error}</div>}\n         <button type=\"submit\" disabled={!query.trim() || loading} className=\"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-medium py-3 rounded-lg flex items-center justify-center transition-colors\">\n          {loading ? <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" /> : <Search className=\"h-5 w-5 mr-2\" />}\n          Query Intelligence\n         </button>\n      </form>\n    </div>\n  );\n};\n\n// --- AnalysisResults Component (FULLY IMPLEMENTED) ---\ninterface AnalysisResultsProps { analysisData: Document | null; queryResponse: string; }\nconst AnalysisResults: React.FC<AnalysisResultsProps> = ({ analysisData, queryResponse }) => {\n  if (!analysisData && !queryResponse) {\n    return <div className=\"p-8 text-center text-gray-500\">No analysis data available. Upload a document or perform a query.</div>;\n  }\n\n  const hasAnalysis = analysisData && analysisData.metadata && analysisData.analysis;\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {hasAnalysis && (\n        <>\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n                <h3 className=\"text-2xl font-bold mb-2\">Analysis for: <span className=\"text-blue-600\">{analysisData.metadata.filename}</span></h3>\n                <p className=\"text-gray-600\">{analysisData.analysis.intelligence_summary}</p>\n            </div>\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n                        <h4 className=\"font-semibold text-lg mb-3 flex items-center\"><Users className=\"mr-2 h-5 w-5 text-purple-500\"/>Extracted Entities</h4>\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                            {Object.entries(analysisData.analysis.entities).map(([key, value]) => (\n                                <div key={key}>\n                                    <strong className=\"capitalize text-gray-800\">{key}:</strong>\n                                    <p className=\"text-gray-600 text-sm h-20 overflow-y-auto p-2 bg-gray-50 rounded mt-1\">{Array.isArray(value) && value.length > 0 ? value.join(', ') : 'None identified'}</p>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                     <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n                        <h4 className=\"font-semibold text-lg mb-3 flex items-center\"><Map className=\"mr-2 h-5 w-5 text-green-500\"/>Geographic Intelligence</h4>\n                        <p><strong>States:</strong> {analysisData.analysis.geographic_intelligence.states.join(', ') || 'N/A'}</p>\n                        <p><strong>Cities:</strong> {analysisData.analysis.geographic_intelligence.cities.join(', ') || 'N/A'}</p>\n                        <p><strong>Coordinates Found:</strong> {analysisData.analysis.geographic_intelligence.coordinates.length}</p>\n                    </div>\n                </div>\n                <div className=\"space-y-6\">\n                    <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n                        <h4 className=\"font-semibold text-lg mb-3 flex items-center\"><Shield className=\"mr-2 h-5 w-5 text-red-500\"/>Threat Assessment</h4>\n                        <p><strong>Overall Sentiment:</strong> {analysisData.analysis.sentiment_analysis.overall_sentiment}</p>\n                        <p><strong>Threat Level:</strong> <span className={`font-bold ${analysisData.analysis.sentiment_analysis.threat_level === 'High' ? 'text-red-500' : analysisData.analysis.sentiment_analysis.threat_level === 'Medium' ? 'text-yellow-500' : 'text-green-500'}`}>{analysisData.analysis.sentiment_analysis.threat_level}</span></p>\n                    </div>\n                    <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n                        <h4 className=\"font-semibold text-lg mb-3 flex items-center\"><FileText className=\"mr-2 h-5 w-5 text-gray-500\"/>Document Stats</h4>\n                        <p><strong>Word Count:</strong> {analysisData.analysis.text_statistics.word_count}</p>\n                        <p><strong>Confidence:</strong> {(analysisData.analysis.confidence_score * 100).toFixed(1)}%</p>\n                    </div>\n                </div>\n            </div>\n        </>\n      )}\n      {queryResponse && (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n            <h3 className=\"text-xl font-bold mb-2\">AI Query Response</h3>\n            <p className=\"text-gray-700 whitespace-pre-wrap leading-relaxed\">{queryResponse}</p>\n        </div>\n        )}\n    </div>\n  );\n};\n\n\n// --- ForecastingDashboard Component (FULLY IMPLEMENTED) ---\nconst ForecastingDashboard: React.FC = () => {\n    const data = Array.from({length: 30}, (_, i) => ({\n        name: `Day ${i + 1}`,\n        incidents: Math.floor(Math.random() * 20) + 5,\n        predicted: Math.floor(Math.random() * 20) + 5 + (Math.random() * 6 - 3),\n        threatLevel: Math.random() * 100,\n    }));\n    return (\n        <div className=\"p-6 space-y-6\">\n            <h2 className=\"text-2xl font-bold\">Threat Forecasting Dashboard</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                    <h4 className=\"text-gray-500\">Projected Threat Level</h4>\n                    <p className=\"text-3xl font-bold text-red-500\">78% (High)</p>\n                </div>\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                    <h4 className=\"text-gray-500\">Incident Trend</h4>\n                    <p className=\"text-3xl font-bold text-green-500 flex items-center\">-12% <TrendingDown className=\"h-6 w-6 ml-2\"/></p>\n                </div>\n                <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                    <h4 className=\"text-gray-500\">Model Confidence</h4>\n                    <p className=\"text-3xl font-bold text-blue-500\">92.5%</p>\n                </div>\n            </div>\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border h-96\">\n                <h3 className=\"font-semibold mb-4\">Incidents vs. Predictions (30 Days)</h3>\n                <ResponsiveContainer width=\"100%\" height=\"90%\">\n                    <LineChart data={data}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"name\" />\n                        <YAxis />\n                        <Tooltip />\n                        <Legend />\n                        <Line type=\"monotone\" dataKey=\"incidents\" stroke=\"#8884d8\" name=\"Actual Incidents\"/>\n                        <Line type=\"monotone\" dataKey=\"predicted\" stroke=\"#82ca9d\" strokeDasharray=\"5 5\" name=\"Predicted Incidents\" />\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        </div>\n    )\n};\n\n// --- GeospatialMap Component (FULLY IMPLEMENTED) ---\ninterface GeospatialMapProps { analysisData: Document | null; }\nconst GeospatialMap: React.FC<GeospatialMapProps> = ({ analysisData }) => {\n  const mapContainer = useRef<HTMLDivElement>(null);\n  const map = useRef<any>(null);\n\n  useEffect(() => {\n    if (map.current || !mapContainer.current || !window.mapboxgl) return;\n\n    const mapboxgl = window.mapboxgl;\n    mapboxgl.accessToken = 'pk.eyJ1IjoiYWJkdWxkYXR0aWpvMSIsImEiOiJjbWM2bW83Y3IwbmN4MmtzYWw0cHppbXF4In0.0pSWoI2VOyPyORqCROJc9g';\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/dark-v11',\n      center: [8.6753, 9.0820], // Centered on Nigeria\n      zoom: 5\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!map.current || !analysisData?.analysis?.geographic_intelligence?.coordinates) return;\n\n    // Clear existing markers\n    document.querySelectorAll('.mapboxgl-marker').forEach(marker => marker.remove());\n\n    const coords = analysisData.analysis.geographic_intelligence.coordinates;\n    if (coords.length === 0) {\n        map.current.flyTo({center: [8.6753, 9.0820], zoom: 5});\n        return;\n    };\n\n    coords.forEach(coord => {\n        new window.mapboxgl.Marker({color: '#e53e3e'})\n            .setLngLat([coord.longitude, coord.latitude])\n            .setPopup(new window.mapboxgl.Popup().setHTML(`<strong>${coord.location_name}</strong>`))\n            .addTo(map.current);\n    });\n\n    const bounds = new window.mapboxgl.LngLatBounds();\n    coords.forEach(coord => bounds.extend([coord.longitude, coord.latitude]));\n    map.current.fitBounds(bounds, { padding: 80, maxZoom: 14 });\n\n  }, [analysisData]);\n\n  return <div ref={mapContainer} className=\"h-[600px] w-full rounded-lg\" />;\n};\n\n\n// --- DocumentList Component (FULLY IMPLEMENTED) ---\ninterface DocListItem {\n  id: string;\n  filename: string;\n  processed_at: string;\n  confidence_score: number;\n}\ninterface DocumentListProps { onDocumentSelect: (document: Document) => void; }\nconst DocumentList: React.FC<DocumentListProps> = ({ onDocumentSelect }) => {\n  const [documents, setDocuments] = useState<DocListItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // This is still mocked as the backend endpoint is also a mock.\n    // In a real app, this would fetch the full document list.\n    const mockDocs: DocListItem[] = [];\n    setDocuments(mockDocs);\n    setLoading(false);\n  }, []);\n\n  if (loading) {\n      return <div className=\"p-8 text-center\"><Loader2 className=\"h-8 w-8 animate-spin mx-auto\" /></div>\n  }\n  if (documents.length === 0) {\n      return <div className=\"p-8 text-center text-gray-500\">No documents in the library yet.</div>\n  }\n\n  const fetchFullDocument = async (docId: string) => {\n    alert(\"This feature requires the /document/{id} endpoint to be implemented on the backend.\");\n  }\n\n  return (\n    <div className=\"p-6 space-y-4\">\n        <h2 className=\"text-2xl font-bold\">Document Library</h2>\n      {documents.map(doc => (\n        <div key={doc.id} className=\"p-4 bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow flex justify-between items-center\">\n          <div>\n            <p className=\"font-semibold text-blue-600\">{doc.filename}</p>\n            <p className=\"text-sm text-gray-500\">Processed: {new Date(doc.processed_at).toLocaleString()}</p>\n          </div>\n          <button onClick={() => fetchFullDocument(doc.id)} className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg text-sm\">\n            View Analysis\n          </button>\n        </div>\n      ))}\n    </div>\n  )\n};\n\n// --- Main App Component ---\ntype TabType = 'analyzer' | 'query' | 'results' | 'forecasting' | 'map' | 'documents';\n\nconst App: React.FC = () => {\n  const [activeTab, setActiveTab] = useState<TabType>('analyzer');\n  const [analysisData, setAnalysisData] = useState<Document | null>(null);\n  const [queryResponse, setQueryResponse] = useState<string>('');\n\n  const handleDocumentAnalyzed = (document: Document) => {\n    setAnalysisData(document);\n    setQueryResponse(\"\"); // Clear previous query response\n    setActiveTab('results');\n  };\n\n  const handleDocumentSelect = (document: Document) => {\n    setAnalysisData(document);\n    setQueryResponse(\"\");\n    setActiveTab('results');\n  };\n\n  const handleQueryResponse = (response: string) => {\n    setAnalysisData(null); // Clear previous doc analysis\n    setQueryResponse(response);\n    setActiveTab('results');\n  };\n\n  const tabs = [\n    { id: 'analyzer' as TabType, label: 'Analyzer', icon: Upload },\n    { id: 'query' as TabType, label: 'Query', icon: Search },\n    { id: 'results' as TabType, label: 'Results', icon: Brain },\n    { id: 'forecasting' as TabType, label: 'Forecasting', icon: BarChart3 },\n    { id: 'map' as TabType, label: 'Map', icon: Map },\n    { id: 'documents' as TabType, label: 'Library', icon: List }\n  ];\n\n  useEffect(() => {\n    const mapboxScript = document.createElement('script');\n    mapboxScript.src = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js';\n    document.head.appendChild(mapboxScript);\n    const mapboxCss = document.createElement('link');\n    mapboxCss.href = 'https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css';\n    mapboxCss.rel = 'stylesheet';\n    document.head.appendChild(mapboxCss);\n  }, [])\n\n  return (\n    <>\n      <GlobalStyles />\n      <div className=\"min-h-screen bg-gray-50\">\n        <header className=\"bg-white border-b border-gray-200 shadow-sm\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center py-4\">\n              <div className=\"flex items-center\">\n                <Shield className=\"h-8 w-8 text-blue-600 mr-3\" />\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">Intelligence Document Analyzer</h1>\n                  <p className=\"text-sm text-gray-600\">AI-Powered Security Intelligence Platform</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <nav className=\"bg-white border-b border-gray-200\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex space-x-8 overflow-x-auto\">\n              {tabs.map((tab) => {\n                const Icon = tab.icon;\n                const isActive = activeTab === tab.id;\n                return (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${isActive ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700'}`}\n                  >\n                    <Icon className=\"h-5 w-5\" />\n                    <span>{tab.label}</span>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </nav>\n\n        <main className=\"max-w-7xl mx-auto mt-6\">\n          <div className=\"bg-white rounded-lg shadow-md border border-gray-200 min-h-[600px]\">\n            {activeTab === 'analyzer' && <IntelligenceAnalyzer onDocumentAnalyzed={handleDocumentAnalyzed} />}\n            {activeTab === 'query' && <QueryInterface onQueryResponse={handleQueryResponse} />}\n            {activeTab === 'results' && <AnalysisResults analysisData={analysisData} queryResponse={queryResponse} />}\n            {activeTab === 'forecasting' && <ForecastingDashboard />}\n            {activeTab === 'map' && <GeospatialMap analysisData={analysisData} />}\n            {activeTab === 'documents' && <DocumentList onDocumentSelect={handleDocumentSelect} />}\n          </div>\n        </main>\n\n        <footer className=\"bg-white border-t border-gray-200 mt-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\"> 2025 Intelligence Document Analyzer.</p>\n              {analysisData?.metadata?.uploaded_at && (\n                  <div className=\"text-xs text-gray-400\">\n                    Last Analysis: {new Date(analysisData.metadata.uploaded_at).toLocaleString()}\n                  </div>\n                )}\n            </div>\n          </div>\n        </footer>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}