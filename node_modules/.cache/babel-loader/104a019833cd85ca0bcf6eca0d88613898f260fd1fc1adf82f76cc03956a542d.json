{"ast":null,"code":"var _jsxFileName = \"/Users/abduldattijo/Downloads/intelaanalysis/src/components/QueryInterface.tsx\",\n  _s = $RefreshSig$();\n// src/components/QueryInterface.tsx - Enhanced RAG-powered Query Interface\n\nimport React, { useState, useEffect } from 'react';\nimport { Search, Brain, Loader2, AlertCircle, FileText, MessageSquare, Lightbulb, Database, Clock, CheckCircle, XCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QueryInterface = ({\n  onQueryResponse\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [queryResponse, setQueryResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [ragStats, setRAGStats] = useState(null);\n  const [maxResults, setMaxResults] = useState(5);\n  const intelligenceQueries = [\"What are the main security threats mentioned in the documents?\", \"Summarize the geographic locations and their threat levels\", \"What criminal activities are most frequently referenced?\", \"Identify key persons and organizations mentioned\", \"What are the temporal patterns in the incidents?\", \"Provide a risk assessment based on the analyzed documents\", \"What weapons or equipment are mentioned in the intelligence reports?\", \"Summarize incidents by Nigerian states and regions\", \"What are the coordination patterns between criminal groups?\", \"Analyze the threat evolution over time periods mentioned\"];\n  useEffect(() => {\n    fetchRAGStats();\n  }, []);\n  const fetchRAGStats = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/rag-stats');\n      if (response.ok) {\n        const stats = await response.json();\n        setRAGStats(stats);\n      }\n    } catch (err) {\n      console.error('Failed to fetch RAG stats:', err);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(null);\n    setQueryResponse(null);\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: query.trim(),\n          max_results: maxResults\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      setQueryResponse(data);\n\n      // Call parent callback if provided\n      if (onQueryResponse) {\n        onQueryResponse(data.response);\n      }\n      setError(null);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to process query';\n      setError(errorMessage);\n      setQueryResponse(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePredefinedQuery = predefinedQuery => {\n    setQuery(predefinedQuery);\n  };\n  const clearQuery = () => {\n    setQuery('');\n    setQueryResponse(null);\n    setError(null);\n  };\n  const formatResponse = response => {\n    const sections = response.split('\\n\\n');\n    return sections.map((section, index) => {\n      if (section.startsWith('**') && section.endsWith('**')) {\n        return /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mt-4 mb-2 text-lg\",\n          children: section.replace(/\\*\\*/g, '')\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this);\n      } else if (section.includes('•') || section.includes('-')) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside space-y-1 mb-3\",\n          children: items.map((item, itemIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-700\",\n            children: item.replace(/^[•\\-]\\s*/, '').trim()\n          }, itemIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this);\n      } else if (section.match(/^\\d+\\./)) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"list-decimal list-inside space-y-1 mb-3\",\n          children: items.map((item, itemIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-700\",\n            children: item.replace(/^\\d+\\.\\s*/, '').trim()\n          }, itemIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-3 leading-relaxed\",\n          children: section\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this);\n      }\n    });\n  };\n  const getSimilarityColor = similarity => {\n    if (similarity >= 0.8) return 'text-green-600 bg-green-50';\n    if (similarity >= 0.6) return 'text-yellow-600 bg-yellow-50';\n    return 'text-red-600 bg-red-50';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-2 flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-6 w-6 text-purple-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), \"RAG-Powered Intelligence Query\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 max-w-2xl mx-auto\",\n        children: \"Ask questions about your analyzed documents using advanced AI retrieval and generation. Get contextual answers backed by specific document sources.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), ragStats && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Database, {\n            className: \"h-5 w-5 text-purple-600 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-purple-800\",\n            children: \"Knowledge Base Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-green-600\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-4 w-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"RAG System Online\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-purple-700 font-medium\",\n            children: \"Documents:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-purple-900\",\n            children: ragStats.total_documents.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-purple-700 font-medium\",\n            children: \"Text Chunks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-purple-900\",\n            children: ragStats.total_chunks.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-purple-700 font-medium\",\n            children: \"Embedding Model:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-purple-900\",\n            children: ragStats.model_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-purple-700 font-medium\",\n            children: \"Vector Dimension:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-purple-900\",\n            children: ragStats.index_dimension\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"h-5 w-5 text-blue-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), \"Intelligence Query\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"query\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Enter your intelligence query:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"query\",\n            value: query,\n            onChange: e => setQuery(e.target.value),\n            placeholder: \"e.g., What are the main security threats in Lagos region? Who are the key actors mentioned?\",\n            className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y\",\n            rows: 3,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"maxResults\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Max Sources:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"maxResults\",\n              value: maxResults,\n              onChange: e => setMaxResults(parseInt(e.target.value)),\n              className: \"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\",\n              disabled: loading,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3,\n                children: \"3 Sources\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5 Sources\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 7,\n                children: \"7 Sources\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 10,\n                children: \"10 Sources\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !query.trim() || loading,\n            className: \"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-5 w-5 mr-2 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), \"Processing with RAG...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), \"Query Intelligence\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: clearQuery,\n            disabled: loading,\n            className: \"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200\",\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n          className: \"h-5 w-5 text-yellow-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), \"Intelligence Query Templates\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n        children: intelligenceQueries.map((predefinedQuery, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePredefinedQuery(predefinedQuery),\n          disabled: loading,\n          className: \"text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-700\",\n              children: predefinedQuery\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"h-5 w-5 text-red-600 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-red-800\",\n          children: \"Query Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-700 mt-1\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"mt-3 text-sm text-red-600 hover:text-red-800 underline\",\n        children: \"Dismiss\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, this), queryResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Brain, {\n              className: \"h-5 w-5 text-green-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), \"Intelligence Analysis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), new Date(queryResponse.timestamp).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), queryResponse.no_results ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-5 w-5 text-yellow-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-yellow-800\",\n              children: queryResponse.response\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose prose-gray max-w-none\",\n            children: formatResponse(queryResponse.response)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-center gap-4 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Database, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), queryResponse.context_chunks, \" sources used\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Brain, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), queryResponse.model]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigator.clipboard.writeText(queryResponse.response),\n              className: \"flex items-center text-blue-600 hover:text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), \"Copy Response\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this), queryResponse.sources && queryResponse.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-5 w-5 text-blue-600 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this), \"Source Documents (\", queryResponse.sources.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: queryResponse.sources.map((source, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 text-blue-600 text-xs font-medium\",\n                  children: source.rank\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-900\",\n                  children: source.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Document source\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 rounded text-xs font-medium ${getSimilarityColor(source.similarity)}`,\n                children: [(source.similarity * 100).toFixed(1), \"% match\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-5 w-5 text-blue-600 mr-2 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-blue-800\",\n            children: \"RAG-Powered Intelligence Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700 mt-1\",\n            children: \"This system uses Retrieval-Augmented Generation (RAG) to find the most relevant information from your intelligence documents and generate comprehensive answers. Each response is backed by specific document sources with similarity scores showing relevance confidence.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(QueryInterface, \"dOYoUtzGCUTaW90pmdVc+UoixUs=\");\n_c = QueryInterface;\nexport default QueryInterface;\nvar _c;\n$RefreshReg$(_c, \"QueryInterface\");","map":{"version":3,"names":["React","useState","useEffect","Search","Brain","Loader2","AlertCircle","FileText","MessageSquare","Lightbulb","Database","Clock","CheckCircle","XCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","QueryInterface","onQueryResponse","_s","query","setQuery","loading","setLoading","queryResponse","setQueryResponse","error","setError","ragStats","setRAGStats","maxResults","setMaxResults","intelligenceQueries","fetchRAGStats","response","fetch","ok","stats","json","err","console","handleSubmit","e","preventDefault","trim","method","headers","body","JSON","stringify","max_results","Error","status","data","errorMessage","message","handlePredefinedQuery","predefinedQuery","clearQuery","formatResponse","sections","split","map","section","index","startsWith","endsWith","className","children","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","items","filter","item","itemIndex","match","getSimilarityColor","similarity","total_documents","toLocaleString","total_chunks","model_name","index_dimension","onSubmit","htmlFor","id","value","onChange","target","placeholder","rows","disabled","parseInt","type","onClick","Date","timestamp","no_results","context_chunks","model","navigator","clipboard","writeText","sources","length","source","rank","filename","toFixed","_c","$RefreshReg$"],"sources":["/Users/abduldattijo/Downloads/intelaanalysis/src/components/QueryInterface.tsx"],"sourcesContent":["// src/components/QueryInterface.tsx - Enhanced RAG-powered Query Interface\n\nimport React, { useState, useEffect } from 'react';\nimport { Search, Brain, Loader2, AlertCircle, FileText, MessageSquare, Lightbulb, Database, TrendingUp, Users, MapPin, Clock, CheckCircle, XCircle } from 'lucide-react';\n\ninterface QuerySource {\n  filename: string;\n  similarity: number;\n  rank: number;\n}\n\ninterface QueryResponse {\n  response: string;\n  sources: QuerySource[];\n  query: string;\n  context_chunks: number;\n  timestamp: string;\n  model: string;\n  error?: boolean;\n  no_results?: boolean;\n}\n\ninterface RAGStats {\n  total_chunks: number;\n  total_documents: int;\n  index_dimension: number;\n  model_name: string;\n}\n\ninterface QueryInterfaceProps {\n  onQueryResponse?: (response: string) => void;\n}\n\nconst QueryInterface: React.FC<QueryInterfaceProps> = ({ onQueryResponse }) => {\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [queryResponse, setQueryResponse] = useState<QueryResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [ragStats, setRAGStats] = useState<RAGStats | null>(null);\n  const [maxResults, setMaxResults] = useState(5);\n\n  const intelligenceQueries = [\n    \"What are the main security threats mentioned in the documents?\",\n    \"Summarize the geographic locations and their threat levels\",\n    \"What criminal activities are most frequently referenced?\",\n    \"Identify key persons and organizations mentioned\",\n    \"What are the temporal patterns in the incidents?\",\n    \"Provide a risk assessment based on the analyzed documents\",\n    \"What weapons or equipment are mentioned in the intelligence reports?\",\n    \"Summarize incidents by Nigerian states and regions\",\n    \"What are the coordination patterns between criminal groups?\",\n    \"Analyze the threat evolution over time periods mentioned\"\n  ];\n\n  useEffect(() => {\n    fetchRAGStats();\n  }, []);\n\n  const fetchRAGStats = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/rag-stats');\n      if (response.ok) {\n        const stats = await response.json();\n        setRAGStats(stats);\n      }\n    } catch (err) {\n      console.error('Failed to fetch RAG stats:', err);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n\n    setLoading(true);\n    setError(null);\n    setQueryResponse(null);\n\n    try {\n      const response = await fetch('http://localhost:8000/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          query: query.trim(),\n          max_results: maxResults\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data: QueryResponse = await response.json();\n      setQueryResponse(data);\n\n      // Call parent callback if provided\n      if (onQueryResponse) {\n        onQueryResponse(data.response);\n      }\n\n      setError(null);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to process query';\n      setError(errorMessage);\n      setQueryResponse(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePredefinedQuery = (predefinedQuery: string) => {\n    setQuery(predefinedQuery);\n  };\n\n  const clearQuery = () => {\n    setQuery('');\n    setQueryResponse(null);\n    setError(null);\n  };\n\n  const formatResponse = (response: string) => {\n    const sections = response.split('\\n\\n');\n    return sections.map((section, index) => {\n      if (section.startsWith('**') && section.endsWith('**')) {\n        return (\n          <h4 key={index} className=\"font-semibold text-gray-900 mt-4 mb-2 text-lg\">\n            {section.replace(/\\*\\*/g, '')}\n          </h4>\n        );\n      } else if (section.includes('•') || section.includes('-')) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return (\n          <ul key={index} className=\"list-disc list-inside space-y-1 mb-3\">\n            {items.map((item, itemIndex) => (\n              <li key={itemIndex} className=\"text-gray-700\">\n                {item.replace(/^[•\\-]\\s*/, '').trim()}\n              </li>\n            ))}\n          </ul>\n        );\n      } else if (section.match(/^\\d+\\./)) {\n        const items = section.split('\\n').filter(item => item.trim());\n        return (\n          <ol key={index} className=\"list-decimal list-inside space-y-1 mb-3\">\n            {items.map((item, itemIndex) => (\n              <li key={itemIndex} className=\"text-gray-700\">\n                {item.replace(/^\\d+\\.\\s*/, '').trim()}\n              </li>\n            ))}\n          </ol>\n        );\n      } else {\n        return (\n          <p key={index} className=\"text-gray-700 mb-3 leading-relaxed\">\n            {section}\n          </p>\n        );\n      }\n    });\n  };\n\n  const getSimilarityColor = (similarity: number) => {\n    if (similarity >= 0.8) return 'text-green-600 bg-green-50';\n    if (similarity >= 0.6) return 'text-yellow-600 bg-yellow-50';\n    return 'text-red-600 bg-red-50';\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2 flex items-center justify-center\">\n          <Brain className=\"h-6 w-6 text-purple-600 mr-2\" />\n          RAG-Powered Intelligence Query\n        </h2>\n        <p className=\"text-gray-600 max-w-2xl mx-auto\">\n          Ask questions about your analyzed documents using advanced AI retrieval and generation.\n          Get contextual answers backed by specific document sources.\n        </p>\n      </div>\n\n      {/* RAG System Status */}\n      {ragStats && (\n        <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <Database className=\"h-5 w-5 text-purple-600 mr-2\" />\n              <h3 className=\"font-semibold text-purple-800\">Knowledge Base Status</h3>\n            </div>\n            <div className=\"flex items-center text-green-600\">\n              <CheckCircle className=\"h-4 w-4 mr-1\" />\n              <span className=\"text-sm font-medium\">RAG System Online</span>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm\">\n            <div>\n              <span className=\"text-purple-700 font-medium\">Documents:</span>\n              <span className=\"ml-2 text-purple-900\">{ragStats.total_documents.toLocaleString()}</span>\n            </div>\n            <div>\n              <span className=\"text-purple-700 font-medium\">Text Chunks:</span>\n              <span className=\"ml-2 text-purple-900\">{ragStats.total_chunks.toLocaleString()}</span>\n            </div>\n            <div>\n              <span className=\"text-purple-700 font-medium\">Embedding Model:</span>\n              <span className=\"ml-2 text-purple-900\">{ragStats.model_name}</span>\n            </div>\n            <div>\n              <span className=\"text-purple-700 font-medium\">Vector Dimension:</span>\n              <span className=\"ml-2 text-purple-900\">{ragStats.index_dimension}</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Query Input Section */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <MessageSquare className=\"h-5 w-5 text-blue-600 mr-2\" />\n          Intelligence Query\n        </h3>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"query\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Enter your intelligence query:\n            </label>\n            <textarea\n              id=\"query\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              placeholder=\"e.g., What are the main security threats in Lagos region? Who are the key actors mentioned?\"\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-y\"\n              rows={3}\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            <div>\n              <label htmlFor=\"maxResults\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Max Sources:\n              </label>\n              <select\n                id=\"maxResults\"\n                value={maxResults}\n                onChange={(e) => setMaxResults(parseInt(e.target.value))}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                disabled={loading}\n              >\n                <option value={3}>3 Sources</option>\n                <option value={5}>5 Sources</option>\n                <option value={7}>7 Sources</option>\n                <option value={10}>10 Sources</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <button\n              type=\"submit\"\n              disabled={!query.trim() || loading}\n              className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />\n                  Processing with RAG...\n                </>\n              ) : (\n                <>\n                  <Search className=\"h-5 w-5 mr-2\" />\n                  Query Intelligence\n                </>\n              )}\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={clearQuery}\n              disabled={loading}\n              className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200\"\n            >\n              Clear\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Suggested Intelligence Queries */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n          <Lightbulb className=\"h-5 w-5 text-yellow-600 mr-2\" />\n          Intelligence Query Templates\n        </h3>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n          {intelligenceQueries.map((predefinedQuery, index) => (\n            <button\n              key={index}\n              onClick={() => handlePredefinedQuery(predefinedQuery)}\n              disabled={loading}\n              className=\"text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <div className=\"flex items-start\">\n                <Search className=\"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" />\n                <span className=\"text-sm text-gray-700\">{predefinedQuery}</span>\n              </div>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <XCircle className=\"h-5 w-5 text-red-600 mr-2\" />\n            <h3 className=\"text-lg font-medium text-red-800\">Query Error</h3>\n          </div>\n          <p className=\"text-red-700 mt-1\">{error}</p>\n          <button\n            onClick={() => setError(null)}\n            className=\"mt-3 text-sm text-red-600 hover:text-red-800 underline\"\n          >\n            Dismiss\n          </button>\n        </div>\n      )}\n\n      {/* Query Response */}\n      {queryResponse && (\n        <div className=\"space-y-6\">\n          {/* Main Response */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <Brain className=\"h-5 w-5 text-green-600 mr-2\" />\n                Intelligence Analysis\n              </h3>\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <Clock className=\"h-4 w-4 mr-1\" />\n                {new Date(queryResponse.timestamp).toLocaleString()}\n              </div>\n            </div>\n\n            {queryResponse.no_results ? (\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <AlertCircle className=\"h-5 w-5 text-yellow-600 mr-2\" />\n                  <p className=\"text-yellow-800\">{queryResponse.response}</p>\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div className=\"prose prose-gray max-w-none\">\n                  {formatResponse(queryResponse.response)}\n                </div>\n              </div>\n            )}\n\n            {/* Query Metadata */}\n            <div className=\"mt-4 pt-4 border-t border-gray-200\">\n              <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-600\">\n                <div className=\"flex items-center\">\n                  <Database className=\"h-4 w-4 mr-1\" />\n                  {queryResponse.context_chunks} sources used\n                </div>\n                <div className=\"flex items-center\">\n                  <Brain className=\"h-4 w-4 mr-1\" />\n                  {queryResponse.model}\n                </div>\n                <button\n                  onClick={() => navigator.clipboard.writeText(queryResponse.response)}\n                  className=\"flex items-center text-blue-600 hover:text-blue-800\"\n                >\n                  <FileText className=\"h-4 w-4 mr-1\" />\n                  Copy Response\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Source Documents */}\n          {queryResponse.sources && queryResponse.sources.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                <FileText className=\"h-5 w-5 text-blue-600 mr-2\" />\n                Source Documents ({queryResponse.sources.length})\n              </h3>\n\n              <div className=\"space-y-3\">\n                {queryResponse.sources.map((source, index) => (\n                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"flex-shrink-0\">\n                        <span className=\"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 text-blue-600 text-xs font-medium\">\n                          {source.rank}\n                        </span>\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">{source.filename}</p>\n                        <p className=\"text-sm text-gray-500\">Document source</p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 rounded text-xs font-medium ${getSimilarityColor(source.similarity)}`}>\n                        {(source.similarity * 100).toFixed(1)}% match\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* RAG Information Card */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start\">\n          <Brain className=\"h-5 w-5 text-blue-600 mr-2 mt-0.5\" />\n          <div>\n            <h4 className=\"text-sm font-medium text-blue-800\">RAG-Powered Intelligence Analysis</h4>\n            <p className=\"text-sm text-blue-700 mt-1\">\n              This system uses Retrieval-Augmented Generation (RAG) to find the most relevant information\n              from your intelligence documents and generate comprehensive answers. Each response is backed\n              by specific document sources with similarity scores showing relevance confidence.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QueryInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}